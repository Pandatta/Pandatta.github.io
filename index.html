<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hong-Ta Chen</title>

    <!-- box icons -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    
    <!-- devicons for programming languages and tools -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />

    <!-- custom css -->
    <link rel="stylesheet" href="css/style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

    <link rel="icon" href="images/image.png">
  </head>

  <body>
    <header class = "header">
      <a href = "#" class = "logo">Ta.</a>

      <i class='bx bx-menu' id = "menu-icon" ></i>

      <nav class = "navbar">
        <a href = "#home" class="active"><i class='bx bxs-home' ></i></a>
        <a href = "#about">About</a>
        <a href = "#skills">Skills</a>
        <a href = "#contact"><i class='bx bxs-contact' ></i></a>
      </nav>
    </header>


    <!-- home section design -->
    <section class ="home" id = "home">
      <div class = "home-content">
        <h3>Hello, It's HongTa!</h3>
        <h3>And I am a <span class = "multiple-text"></span></h3>
        <p>
          I am a Statistics & Computing student at the University of Waterloo, driven by a passion for Web Development, AI, and Robotics. Let's connect!
        </p>
        <div class = "social-media">
          <a href="https://www.facebook.com/profile.php?id=100009517090512"><i class='bx bxl-facebook' ></i></a>
          <a href="https://www.instagram.com/99_ta_oo/"><i class='bx bxl-instagram' ></i></box-icon></a>
          <a href="https://www.linkedin.com/in/hong-ta-chen-2b02ba296/"><i class='bx bxl-linkedin' ></i></box-icon></a>
          <a href="https://github.com/Pandatta"><i class='bx bxl-github' ></i></box-icon></a>
        </div>
        <a href ="https://drive.google.com/file/d/1hedvwmpXqhE9S_SwM74yt6KRyOsafRN8/view?usp=sharing" class = "btn">Resume</a>
        <a href="https://pandatta.github.io/pandacertificates.github.com/" class="btn">Certificates!</a>
      </div>

      <div class="home-img">
        <img src="images/home.jpeg" alt="">
      </div>

    </section>

    <!-- about section design -->
    <section class="about" id="about">
      <div class="about-img">
        <img src="images/personal.jpg" alt="Hong Ta Chen">
      </div>

      <div class="about-content">
        <h3>Data-driven builder with an entrepreneurial mindset and practical experience in web, AI, and data technologies.</h3>
        <div class="btn-container">
          <a href="https://github.com/Pandatta" class="btn" target="_blank" rel="noopener noreferrer">My Projects</a>
          <a href="https://codanh.com/en" class="btn">High Quality Centrifugal Fan!?</a>
        </div>
      </div>
    </section>

    <!-- skills section design -->
    <section class="skills" id="skills">
        <h2 class="heading"><span>Skills</span></h2>

        <!-- Programming Languages -->
        <div class="skills-category">
            <h3 class="skills-category-title">Programming Languages</h3>
            <div class="skills-grid">
                <div class="skill-icon" title="Python">
                    <i class="devicon-python-plain colored"></i>
                    <span>Python</span>
                </div>
                <div class="skill-icon" title="R">
                    <i class="devicon-r-plain colored"></i>
                    <span>R</span>
                </div>
                <div class="skill-icon" title="SQL">
                    <i class="devicon-mysql-plain colored"></i>
                    <span>SQL</span>
                </div>
                <div class="skill-icon" title="HTML">
                    <i class="devicon-html5-plain colored"></i>
                    <span>HTML</span>
                </div>
                <div class="skill-icon" title="CSS">
                    <i class="devicon-css3-plain colored"></i>
                    <span>CSS</span>
                </div>
                <div class="skill-icon" title="JavaScript">
                    <i class="devicon-javascript-plain colored"></i>
                    <span>JavaScript</span>
                </div>
                <div class="skill-icon" title="TypeScript">
                    <i class="devicon-typescript-plain colored"></i>
                    <span>TypeScript</span>
                </div>
                <div class="skill-icon" title="C">
                    <i class="devicon-c-plain colored"></i>
                    <span>C</span>
                </div>
                <div class="skill-icon" title="Visual Basic">
                    <i class="devicon-visualstudio-plain colored"></i>
                    <span>Visual Basic</span>
                </div>
            </div>
        </div>

        <!-- Frameworks & Libraries -->
        <div class="skills-category">
            <h3 class="skills-category-title">Frameworks & Libraries</h3>
            <div class="skills-grid">
                <div class="skill-icon" title="ReactJS">
                    <i class="devicon-react-original colored"></i>
                    <span>ReactJS</span>
                </div>
                <div class="skill-icon" title="Next.js">
                    <i class="devicon-nextjs-plain colored"></i>
                    <span>Next.js</span>
                </div>
                <div class="skill-icon" title="LangChain">
                    <i class="devicon-python-plain colored"></i>
                    <span>LangChain</span>
                </div>
                <div class="skill-icon" title="FAISS">
                    <i class="devicon-python-plain colored"></i>
                    <span>FAISS</span>
                </div>
                <div class="skill-icon" title="Node.js">
                    <i class="devicon-nodejs-plain colored"></i>
                    <span>Node.js</span>
                </div>
                <div class="skill-icon" title="Tailwind CSS">
                    <i class="devicon-tailwindcss-plain colored"></i>
                    <span>Tailwind CSS</span>
                </div>
                <div class="skill-icon" title="AWS">
                    <i class="devicon-amazonwebservices-plain-wordmark colored"></i>
                    <span>AWS</span>
                </div>
            </div>
        </div>

        <!-- Tools & Platforms -->
        <div class="skills-category">
            <h3 class="skills-category-title">Tools & Platforms</h3>
            <div class="skills-grid">
                <div class="skill-icon" title="Git">
                    <i class="devicon-git-plain colored"></i>
                    <span>Git</span>
                </div>
                <div class="skill-icon" title="GitHub">
                    <i class="devicon-github-original colored"></i>
                    <span>GitHub</span>
                </div>
                <div class="skill-icon" title="Vim">
                    <i class="devicon-vim-plain colored"></i>
                    <span>Vim</span>
                </div>
                <div class="skill-icon" title="WordPress">
                    <i class="devicon-wordpress-plain colored"></i>
                    <span>WordPress</span>
                </div>
                <div class="skill-icon" title="Google Analytics">
                    <img src="https://img.icons8.com/color/96/google-analytics.png" alt="Google Analytics" class="skill-icon-img" />
                    <span>Google Analytics</span>
                </div>
                <div class="skill-icon" title="Google Ads">
                    <img src="https://img.icons8.com/color/96/google-ads.png" alt="Google Ads" class="skill-icon-img" />
                    <span>Google Ads</span>
                </div>
                <div class="skill-icon" title="Google Trends">
                    <i class="devicon-google-plain colored"></i>
                    <span>Google Trends</span>
                </div>
                <div class="skill-icon" title="Firebase">
                    <i class="devicon-firebase-plain colored"></i>
                    <span>Firebase</span>
                </div>
                <div class="skill-icon" title="Supabase">
                    <img src="https://img.icons8.com/color/96/supabase.png" alt="Supabase" class="skill-icon-img" />
                    <span>Supabase</span>
                </div>
                <div class="skill-icon" title="Power BI">
                    <img src="https://img.icons8.com/color/96/power-bi.png" alt="Power BI" class="skill-icon-img" />
                    <span>Power BI</span>
                </div>
            </div>
        </div>
    </section>

    <!-- contact section design -->
    <section class="contact" id="contact">
      <div style="position: relative; z-index: 1;">
        <h2 class="heading">Contact <span>Ta!</span></h2>

        <form action="https://formsubmit.co/pandachen2005@gmail.com" method="POST" id="contact-form">

        <input type="text" name="_honey" style="display:none">

        <input type="hidden" name="_captcha" value="false">

        <input type="hidden" name="_next" id="success-url" value="">
        
        <input type="hidden" name="_error" id="error-url" value="">

        <div class="input-box">
          <div class="input-wrapper">
            <label for="fullname" class="form-label">Full Name <span class="required">*</span></label>
            <input type="text" class="form-control" name="Full name" id="fullname" required minlength="2" maxlength="100">
            <span class="error-message" id="fullname-error"></span>
      </div>
          <div class="input-wrapper">
            <label for="emailinfo" class="form-label">E-mail <span class="required">*</span></label>
            <input type="email" class="form-control" name="email" id="emailinfo" required>
            <span class="error-message" id="emailinfo-error"></span>
      </div>
    </div>

        <div class="input-box">
          <div class="input-wrapper">
            <label for="phonenumber" class="form-label">Phone Number</label>
            <input type="tel" class="form-control" name="Phone Number" id="phonenumber" maxlength="20" pattern="[0-9+\-\s()]+">
            <span class="error-message" id="phonenumber-error"></span>
      </div>
          <div class="input-wrapper">
            <label for="emailsubject" class="form-label">Email Subject</label>
            <input type="text" class="form-control" name="_subject" id="emailsubject" value="New submission!" maxlength="200">
            <span class="error-message" id="emailsubject-error"></span>
      </div>
    </div>
        <div class="input-wrapper textarea-wrapper">
          <label for="message" class="form-label">Your Message <span class="required">*</span></label>
          <textarea class="form-control" name="Your Message" id="message" cols="30" rows="10" required minlength="10" maxlength="2000"></textarea>
          <span class="error-message" id="message-error"></span>
          <span class="char-count" id="message-count">0 / 2000 characters</span>
  </div>
        <div id="contact-challenge" style="margin: 1.5rem 0; display: flex; justify-content: center;" aria-live="polite"></div>
        <div id="form-error" class="form-error-message" style="display: none;"></div>
        <input type="submit" value="Send Message" class="btn" id="contact-submit-btn">
        </form>
      </div>
    </section>
    <!-- footer design -->
    <footer class="footer">
      <div class="footer-text">
        <p>Copyright &copy; 2025 by Ta | All Rights Reserved.</p>
      </div>

      <div class="footer-iconTop">
        <div class="p"></div>
        <a href="#home"><i class='bx bxs-up-arrow-circle' ></i></a>
      </div>
    </footer>
    <!-- typed js -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

     <!-- scroll reveal -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!-- Turnstile for bot protection -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onTurnstileLoad" async defer></script>

    <!-- custom js -->
    <script src="js/script.js"></script>
    
    <!-- Turnstile Integration and Form Validation -->
    <script>
      (function() {
        'use strict';
        
        // Configuration
        const TURNSTILE_SITE_KEY = '0x4AAAAAAB9_nNAM0mbLP_Jg';
        let contactChallengeToken = null;
        let isContactSubmitting = false;
        const contactChallengeDiv = document.getElementById('contact-challenge');
        const contactForm = document.getElementById('contact-form');
        const contactSubmitBtn = document.getElementById('contact-submit-btn');
        
        // Set form redirect URLs dynamically based on current origin
        (function() {
          const baseUrl = window.location.origin;
          const successUrlInput = document.getElementById('success-url');
          const errorUrlInput = document.getElementById('error-url');
          if (successUrlInput) {
            successUrlInput.value = baseUrl + '/success.html';
          }
          if (errorUrlInput) {
            errorUrlInput.value = baseUrl + '/failure.html';
          }
        })();
        
        // Render Turnstile for Contact Form (only once)
        let turnstileRendered = false;
        function renderContactTurnstile() {
          // Prevent duplicate rendering
          if (turnstileRendered) {
            return;
          }
          
          if (typeof turnstile === 'undefined') {
            setTimeout(renderContactTurnstile, 500);
            return;
          }
          
          if (contactChallengeDiv && !turnstileRendered) {
            try {
              turnstile.render('#contact-challenge', {
                sitekey: TURNSTILE_SITE_KEY,
                callback: function(token) {
                  contactChallengeToken = token;
                  console.log('Contact form Turnstile verification successful');
                  // Add token to form as hidden input
                  let tokenInput = document.getElementById('turnstile-token');
                  if (!tokenInput) {
                    tokenInput = document.createElement('input');
                    tokenInput.type = 'hidden';
                    tokenInput.id = 'turnstile-token';
                    tokenInput.name = 'turnstile-token';
                    contactForm.appendChild(tokenInput);
                  }
                  tokenInput.value = token;
                },
                'error-callback': function() {
                  console.error('Contact form Turnstile widget error');
                  contactChallengeToken = null;
                },
                'expired-callback': function() {
                  contactChallengeToken = null;
                  console.log('Contact form Turnstile token expired');
                  turnstile.reset('#contact-challenge');
                },
                theme: 'dark',
                size: 'normal'
              });
              turnstileRendered = true;
            } catch (error) {
              console.error('Failed to render Contact Turnstile:', error);
            }
          }
        }
        
        // Turnstile callbacks - initialize when script loads
        window.onTurnstileLoad = function() {
          console.log('Turnstile script loaded');
          renderContactTurnstile();
        };
        
        // Fallback: Initialize Turnstile when DOM is ready (if script already loaded)
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
            setTimeout(renderContactTurnstile, 100);
          });
        } else {
          setTimeout(renderContactTurnstile, 100);
        }
        
        // Contact Form Validation and Submission Handler
        if (contactForm) {
          const formError = document.getElementById('form-error');
          const fullnameInput = document.getElementById('fullname');
          const emailInput = document.getElementById('emailinfo');
          const phoneInput = document.getElementById('phonenumber');
          const subjectInput = document.getElementById('emailsubject');
          const messageInput = document.getElementById('message');
          const messageCount = document.getElementById('message-count');
          
          // Character counter for message
          if (messageInput && messageCount) {
            messageInput.addEventListener('input', function() {
              const length = this.value.length;
              messageCount.textContent = length + ' / 2000 characters';
              if (length > 2000) {
                messageCount.style.color = '#ff4444';
              } else if (length > 1800) {
                messageCount.style.color = '#ffaa00';
              } else {
                messageCount.style.color = 'rgba(255, 255, 255, 0.6)';
              }
            });
          }
          
          // Clear error on input
          [fullnameInput, emailInput, phoneInput, subjectInput, messageInput].forEach(function(input) {
            if (input) {
              input.addEventListener('input', function() {
                const errorElement = document.getElementById(this.id + '-error');
                if (errorElement) {
                  errorElement.textContent = '';
                  errorElement.style.display = 'none';
                }
                this.classList.remove('error');
              });
            }
          });
          
          // Validation functions
          function validateFullName() {
            const value = fullnameInput.value.trim();
            if (!value) {
              showFieldError('fullname', 'Full name is required');
              return false;
            }
            if (value.length < 2) {
              showFieldError('fullname', 'Full name must be at least 2 characters');
              return false;
            }
            if (value.length > 100) {
              showFieldError('fullname', 'Full name must be less than 100 characters');
              return false;
            }
            clearFieldError('fullname');
            return true;
          }
          
          function validateEmail() {
            const value = emailInput.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!value) {
              showFieldError('emailinfo', 'Email is required');
              return false;
            }
            if (!emailRegex.test(value)) {
              showFieldError('emailinfo', 'Please enter a valid email address');
              return false;
            }
            clearFieldError('emailinfo');
            return true;
          }
          
          function validatePhone() {
            const value = phoneInput.value.trim();
            if (!value) {
              clearFieldError('phonenumber');
              return true; // Phone is optional
            }
            const phoneRegex = /^[0-9+\-\s()]+$/;
            if (!phoneRegex.test(value)) {
              showFieldError('phonenumber', 'Please enter a valid phone number');
              return false;
            }
            if (value.length < 7 || value.length > 20) {
              showFieldError('phonenumber', 'Phone number must be between 7 and 20 characters');
              return false;
            }
            clearFieldError('phonenumber');
            return true;
          }
          
          function validateSubject() {
            const value = subjectInput.value.trim();
            if (!value) {
              showFieldError('emailsubject', 'Subject is required');
              return false;
            }
            if (value.length > 200) {
              showFieldError('emailsubject', 'Subject must be less than 200 characters');
              return false;
            }
            clearFieldError('emailsubject');
            return true;
          }
          
          function validateMessage() {
            const value = messageInput.value.trim();
            if (!value) {
              showFieldError('message', 'Message is required');
              return false;
            }
            if (value.length < 10) {
              showFieldError('message', 'Message must be at least 10 characters');
              return false;
            }
            if (value.length > 2000) {
              showFieldError('message', 'Message must be less than 2000 characters');
              return false;
            }
            clearFieldError('message');
            return true;
          }
          
          function showFieldError(fieldId, message) {
            const input = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + '-error');
            if (input) {
              input.classList.add('error');
            }
            if (errorElement) {
              errorElement.textContent = message;
              errorElement.style.display = 'block';
            }
          }
          
          function clearFieldError(fieldId) {
            const input = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + '-error');
            if (input) {
              input.classList.remove('error');
            }
            if (errorElement) {
              errorElement.textContent = '';
              errorElement.style.display = 'none';
            }
          }
          
          function showFormError(message) {
            if (formError) {
              formError.textContent = message;
              formError.style.display = 'block';
              formError.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
          }
          
          function clearFormError() {
            if (formError) {
              formError.textContent = '';
              formError.style.display = 'none';
            }
          }
          
          function validateForm() {
            clearFormError();
            const isValid = 
              validateFullName() &&
              validateEmail() &&
              validatePhone() &&
              validateSubject() &&
              validateMessage();
            
            if (!isValid) {
              showFormError('⚠️ Please fix the errors above before submitting.');
              // Scroll to first error
              const firstError = contactForm.querySelector('.error');
              if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                firstError.focus();
              }
            }
            
            return isValid;
          }
          
          // Form submission handler
          contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (isContactSubmitting) {
              return;
            }
            
            // Validate form fields first
            if (!validateForm()) {
              return;
            }
            
            // Check if Turnstile token is present (optional check for static site)
            // For GitHub Pages, we'll allow submission even without token
            // FormSubmit.co will handle basic spam protection
            if (!contactChallengeToken) {
              console.warn('Turnstile token not present, but allowing submission for static site');
            }
            
            // Submit the form
            isContactSubmitting = true;
            contactSubmitBtn.disabled = true;
            contactSubmitBtn.value = 'Sending...';
            
            // Submit form (Turnstile token will be included if present)
            contactForm.submit();
          });
        }
      })();
    </script>
  </body>
</html>
